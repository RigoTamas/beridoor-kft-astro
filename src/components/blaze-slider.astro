---
import { Image, Picture } from "@astrojs/image/components";
import "../styles/blaze-slider.css";
import { Icon } from "astro-icon";
const { images } = Astro.props;
---

<div class="blaze-slider">
  <div class="blaze-container">
    <div class="relative ease-in blaze-track-container">
      <div class="blaze-track object-cover">
        {
          images.map((image, iterCount) => (
            <div class="inline-block rounded-none overflow-hidden bg-cover bg-center relative w-full h-[calc(100vh-86px)]">
              <Image
                src={image.imageRenderable}
                alt={image.alt}
                width={1600}
                aspectRatio="16:9"
                format="avif"
                fit="cover"
                position="center"
                class="-z-10 pointer-events-none absolute w-full, h-full object-cover min-w-full min-h-full bg-cover bg-no-repeat"
              />
              <p class="text-white text-3xl lg:text-8xl mt-[calc(((100vh-86px)/2)-18px)] lg:mt-[calc(((100vh-86px)/2)-50px)] text-center align-middle">{image.mainText}</p>
            </div>
          ))
        }
      </div>
      <div class="top-[calc(((100vh-86px)/2)-12px)] left-0 mx-2 md:mx-7 absolute">
        <button class="blaze-prev rotate-[270deg]" id="blaze-prev">
          <div class="w-6">
            <Icon class="bg-white rounded-xl" name="fe:arrow-up" />
          </div>
        </button>
      </div>
    <div class="right-[50vh] left-[50vh] top-[calc(95vh-86px)] blaze-pagination absolute "></div>
      
      <div class="top-[calc(((100vh-86px)/2)-12px)] right-0 mx-2 md:mx-7 absolute">
        <button class="blaze-next  rotate-90" id="blaze-next">
          <div class="w-6">
            <Icon class="bg-white rounded-xl" name="fe:arrow-up" />
          </div>
        </button>
      </div>

    </div>

  </div>
</div>

<script>
  import BlazeSlider from "blaze-slider";
  import "blaze-slider/dist/blaze.css";

  const el = document.querySelector(".blaze-slider") as HTMLElement;
  const slider = new BlazeSlider(el, {
    all: {
      stopAutoplayOnInteraction: true,
      enableAutoplay: true,
      autoplayInterval: 4500,
      transitionDuration: 700,
      slidesToShow: 1,
    },
  });
</script>
