---
import path from "path";
import FilterableEntryWithPictures from "../components/filterable-entry-with-pictures.astro";

const items = {
  // key and id field needs to be the same
  arnyekolas: {
    label: "Árnyékolás",
    id: "arnyekolas",
    text: `
        A nap kellemetlen hatásai ellen külső- és belső oldali árnyékolással -
        redőny, zsalúzia, roló, reluxa, szalagfüggöny, roletta – védekezhetünk.
        Szél- hő - és esőérzékelővel, távvezérlővel felszerelt árnyékolók
        maximális védelmet nyújtanak.
        `,
  },
  napvitorla: {
    label: "Napvitorla",
    id: "napvitorla",
    text: `
        A megfelelően telepített napvitorla célzottan a lehető legnagyobb védelmet
        nyújtja a nap káros sugarai ellen.
        `,
  },
  filagoria: {
    label: "Pergola - Pavilon - Filagória",
    id: "filagoria",
    text: `
        A kertben elhelyezett, tetővel fedett, hangulatvilágítással felszerelt,
        asztallal, padokkal, székekkel berendezett filagória szinte már elengedhetetlen
        része a nyári grillezős- főzős estéknek. A jakuzzi, dézsafürdő fölé épített
        pergola, pavilon komfortosabbá teheti az esti éjszakai fürdőzés élményét.
        `,
  },
  kocsibeallo: {
    label: "Kocsibeálló",
    id: "kocsibeallo",
    text: `
        Egy fedett kocsibeálló gépjárműveinket megvédheti a nap káros sugaraitól, a
        jeges eső kártékony hatásaitól. Télen az autó hótakarításának gondját is leveszi
        a vállunkról.
        `,
  },
};

// workaround for dynamic image imports: https://github.com/withastro/astro/issues/3373#issuecomment-1214245870
const viteImages = import.meta.glob<ImageMetadata>("../assets/portfolio/napvedelem/*/*", { import: "default" });
const imagesRenderable: {
  imageRenderable: any;
  alt: string;
  projectType: string;
  text: string;
}[] = [];
for (const [imgPath, imageFunction] of Object.entries(viteImages)) {
  const projectTypePath = path.dirname(imgPath);
  const projectType = path.basename(projectTypePath);
  const imageRenderable = await imageFunction();
  imagesRenderable.push({
    imageRenderable,
    projectType,
    alt: path.basename(imgPath),
    text: items[projectType].text,
  });
}
---

<FilterableEntryWithPictures imagesRenderable={imagesRenderable} items={items} title="Nap elleni védelem, Árnyékolás" description="Védekezzen a nap ereje ellen a Beridoor Kft által épített árnyékolási berendezésekkel" />
