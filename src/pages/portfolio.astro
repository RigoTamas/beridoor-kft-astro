---
import path from "path";
import FilterableEntryWithPictures from "../components/filterable-entry-with-pictures.astro";

const items = {
  // key and id field needs to be the same
  telikert: {
    label: "Télikert",
    id: "telikert",
    text: "Különleges hangulatú helyiség, természetközeli élményt biztosít az év minden napján, függetlenül a szélsőséges időjárási viszonyoktól, az itt elfogyasztott reggeli kávé nyugalma megalapozza egész napi hangulatát.",
  },
  terasz: {
    label: "Teraszbeépítés",
    id: "terasz",
    text: "Egy terasz oldalfalainak beépítése nagy mértékben elősegíti az otthon komfortérzetét, növeli piaci értékét, kibővíti használhatóságát a zord időjárási viszonyok között is, viszonylag kedvező anyagi ráfordítással.",
  },
  medencefedes: {
    label: "Medencefedés",
    id: "medencefedes",
    text: "A medencék használhatóságának idejét meghosszabítja a fölé épített szerkezet, amely biztosítja a medence vizének tisztaságát is.",
  },
  szelfogo: {
    label: "Szélfogó",
    id: "szelfogo",
    text: "A szélfogó zsilipet képez a zord időjárási viszonyok között, átmenet a kint és a bent elhatárolásával. Okosan megtervezett belső terével, jó helykihasználásával, segít a megfelelő tárolás kialakításában.",
  },
  vedoteto: {
    label: "Elő-védőtető",
    id: "vedoteto",
    text: "A bejárat feletti védőtető komfortosabbá teszi a napi rutint – kulcskeresés, ajtó nyitás, csukás- esős, havas időben is.",
  },
  fuggonyfal: {
    label: "Függönyfal",
    id: "fuggonyfal",
    text: "Az elegáns függönyfal rendszerek kiválthatják a falakat - nagyméretű homlokzati portálokat létrehozva - összekötnek épületrészeket.",
  },
  kupola: {
    label: "Bevilágító Kupola",
    id: "kupola",
    text: "Életterünk kellemesebb, ha környezetünkben megnöveljük a természetesen beáramló fényt, ehhez a legjobb megoldás egy bevilágító kupola beépítése.",
  },
};

// workaround for dynamic image imports: https://github.com/withastro/astro/issues/3373#issuecomment-1214245870
const viteImages = import.meta.glob<ImageMetadata>("../assets/portfolio/termekek/*/*", { import: "default" });
const imagesRenderable: {
  imageRenderable: any;
  alt: string;
  pathFromProjectRoot: string;
  projectType: string;
  text: string;
}[] = [];
for (const [imgPath, imageFunction] of Object.entries(viteImages)) {
  const projectTypePath = path.dirname(imgPath);
  const projectType = path.basename(projectTypePath);
  const imageRenderable = await imageFunction();
  imagesRenderable.push({
    imageRenderable,
    pathFromProjectRoot: imgPath.replace("../", "src/"),
    projectType,
    alt: path.basename(imgPath),
    text: items[projectType].text,
  });
}
---

<FilterableEntryWithPictures
  imagesRenderable={imagesRenderable}
  items={items}
  title="Beridoor télikert munkái"
  description="Beridoor Kft. télikert és teraszbeépítésekkel foglalkozó cég munkáinak a fotói"
/>
