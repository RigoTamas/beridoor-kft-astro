---
import path from "path";
import FilterableEntryWithPictures from "../components/filterable-entry-with-pictures.astro";

const items = {
  // key and id field needs to be the same
  telikert: {
    label: "Télikert",
    id: "telikert",
    text: "Különleges hangulatú helyiség, természetközeli élményt biztosít az év minden napján, függetlenül a szélsőséges időjárási viszonyoktól. Az itt elfogyasztott reggeli kávé nyugalma megalapozza egész napi hangulatát.",
  },
  terasz: {
    label: "Teraszbeépítés",
    id: "terasz",
    text: "Egy terasz oldalfalainak beépítése nagy mértékben elősegíti az otthon komfortérzetét, növeli piaci értékét, kibővíti használhatóságát, viszonylag kedvező anyagi ráfordítással.",
    buttonHidden: true,
  },
  medencefedes: {
    label: "Medencefedés",
    id: "medencefedes",
    text: "A medencék használhatóságának idejét meghosszabítja a fölé épített szerkezet, amely biztosítja a medence vizének tisztaságát is.",
    buttonHidden: true,
  },
  szelfogo: {
    label: "Szélfogó",
    id: "szelfogo",
    text: "A szélfogó zsilipet képez a zord időjárási viszonyok között, átmenet a kint és a bent elhatárolásával. Okosan megtervezett belső terével, jó helykihasználásával, segít a megfelelő tárolás kialakításában.",
    buttonHidden: true,
  },
  vedoteto: {
    label: "Elő-Védőtető",
    id: "vedoteto",
    text: "A bejárat feletti védőtető komfortosabbá teszi a napi rutint – kulcskeresés, ajtó nyitás, csukás- esős, havas időben is.",
    buttonHidden: true,
  },
  fuggonyfal: {
    label: "Függönyfal",
    id: "fuggonyfal",
    text: "Az elegáns függönyfal rendszerek kiválthatják a falakat - nagyméretű homlokzati portálokat létrehozva - összekötnek épületrészeket.",
    buttonHidden: true,
  },
  kupola: {
    label: "Bevilágító Kupola",
    id: "kupola",
    text: "Életterünk kellemesebb, ha környezetünkben megnöveljük a természetesen beáramló fényt, ehhez a legjobb megoldás egy bevilágító kupola beépítése.",
    buttonHidden: true,
  },
};

const labels = {
  telikert: [
    "télikert 1 - alumínium tolóajtó",
    "télikert 2 - eltolható üvegfalú lakásbővítés",
    "télikert 3 - fa télikert alumínium borítással",
    "télikert 4 - lakótér bővítése fa télikerttel",
    "télikert 5 - alumínium - üvegtető",
    "télikert 6 - műanyag - speciális üveg",
    "télikert 7 - aranytölgy színű műanyag",
    "télikert 8 - nappali bővítés - fa tolóajtók",
    "télikert 9 - antracit szerkezet polikarbonát tető",
    "télikert 10 - matt antracit alumínium tolóajtók",
    "télikert 11 - aranytölgy színű műanyag elemek",
    "télikert 12 - nyílászárók valódi osztókkal",
    "télikert 13 - hőhídmentes alumínium",
    "télikert 14 - klasszikus üvegház",
    "télikert 15 - alumínium - fa szerkezet",
    "télikert 16 - műanyag, legyező formájú tetővel",
    "télikert 17 - beige alumínium - hővédő üveg",
    "télikert 18 - bukó-toló fa ajtók",
    "télikert 19 - kétfelé tolható tolóajtók",
    "télikert 20 - alumínium tolóajtók",
    "télikert 21 - műanyag – üveg szerkezet",
    "télikert 22 - fa télikert üvegtetővel",
    "télikert 23 - félköríves lakótérbővítés",
    "télikert 24 - veranda beépítés",
    "télikert 25 - kertkapcsolat tolóajtókkal",
    "télikert 26 - műanyag - fa - polikarbonát",
    "télikert 27 - aranytölgy színű műanyag",
    "télikert 28 - vintage stílus",
  ],
  terasz: [
    "tolóajtókkal",
    "legyezőformában",
    "nappali bővítés",
    "legyezőformában",
    "alumínium tolóajtókkal",
    "lakótérbővítés",
    "valódi osztós aranytölgy ajtó",
    "kertkapcsolattal",
    "lakótér növelésével",
    "alumínium tolóajtókkal",
    "speciális elhelyezés",
    "műanyag tolóajtókkal",
  ],
  szelfogo: [
    "fa – üveg nyílászárók",
    "fa bukó ablakkal",
    "fából külső alumínium borítással",
    "fából külső alumínium borítással",
    "irodaház bejárat",
    "műanyag - üveg - téglaburkolat",
    "üvegtető bukó ablakkal",
    "lépcsős nyílászárók",
  ],
  vedoteto: [
    "fa szerkezet terasz fölé",
    "bejárat előtt",
    "savmart üveggel",
    "alumínium szerkezet",
    "hővédő polikarbonáttal",
    "sorházi üveg terasztető",
    "fémszerkezet – polikarbonát fedés",
    "üveg fedés",
    "folyosó fölötti üveg fedés",
    "fa szerkezet – polikarbonát fedés",
    "szélfogó előtt",
    "bejárat előtt",
    "alumínium - árnyékoló ponyva",
    "fa szerkezet - árnyékoló ponyva",
    "fa- polikarbonát- zsindely fedés",
    "alumínium szerkezet- üvegtető",
  ],
  fuggonyfal: [
    "teraszbeépítés",
    "télikert bukóablakokkal",
    "függönyfallal",
    "díszüveggel",
    "alumínium tolóajtóval",
    "antracit alumínium",
    "zsalúzia árnyékolóval",
    "belső térelválasztó",
    "lépcsőház fa – alumínium - üveg",
    "klasszikus függönyfal",
  ],
  kupola: [
    "nappali feletti ablaksor",
    "pontmegfogásos üvegtető",
    "klasszikus üveg gúla",
    "alumínium üveg gúla",
    "alumínium üvegfelülvilágító",
    "fa üveggúla tetőablakokkal",
    "cikkelyes üvegtető",
    "kúp formájú üvegbevilágító",
    "cikkelyes bevilágító kupola",
    "alumínium bevilág kupola",
    "tetőbevilágító",
    "pincebevilágító",
  ],
};

// workaround for dynamic image imports: https://github.com/withastro/astro/issues/3373#issuecomment-1214245870
const viteImages = import.meta.glob<ImageMetadata>("../assets/portfolio/termekek/*/*", { import: "default" });
const imagesRenderable: {
  imageRenderable: any;
  alt: string;
  imageLabel: string | undefined;
  pathFromProjectRoot: string;
  projectType: string;
  text: string;
}[] = [];
const counter = {};
for (const [imgPath, imageFunction] of Object.entries(viteImages)) {
  const projectTypePath = path.dirname(imgPath);
  const projectType = path.basename(projectTypePath);
  counter[projectType] = counter[projectType] != null ? counter[projectType] + 1 : 0;
  const imageRenderable = await imageFunction();
  imagesRenderable.push({
    imageRenderable,
    pathFromProjectRoot: imgPath.replace("../", "src/"),
    projectType,
    imageLabel: labels[projectType]?.[counter[projectType]],
    alt: labels[projectType]?.[counter[projectType]] || path.basename(imgPath),
    text: items[projectType].text,
  });
}
---

<FilterableEntryWithPictures
  imagesRenderable={imagesRenderable}
  items={items}
  title="Portfólio - Munkáink - Galéria"
  description="Beridoor Kft. télikert és teraszbeépítésekkel foglalkozó cég munkáinak a fotói"
/>
